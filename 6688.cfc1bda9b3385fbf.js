"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6688],{6688:(O,d,r)=>{r.r(d),r.d(d,{LoginPageModule:()=>L});var m=r(177),a=r(4341),s=r(8974),c=r(1671),o=r(4438),h=r(8570),f=r(8397),p=r(2490),P=r(1855);const M=["loginForm"],v=[{path:"",component:(()=>{var n;class l{constructor(e,i,t,u){this.Usuario=e,this.Toast=i,this.router=t,this.Cookie=u,this.erros={},this.loading=!1}ngOnInit(){}login(){this.loading=!0;const e=this.loginForm.form.value;console.log(e),this.Usuario.login(e).subscribe(i=>{if(console.log(i),this.erros={},i.token){const t=new Date;t.setDate(t.getDate()+15),this.Cookie.set("token",i.token,{expires:t}),this.Cookie.set("nome_usuario",i.nome,{expires:t}),this.Cookie.set("id_usuario",i.id_usuario,{expires:t}),this.loginForm.reset(),this.router.navigate(["/"]),setTimeout(()=>{location.reload()},200),this.Toast.mostrarToast("success","Login realizado com sucesso")}this.loading=!1},i=>{console.error("Erro ao cadastrar os dados:",i),this.loading=!1,this.Toast.mostrarToast("danger",i.error.message)})}}return(n=l).\u0275fac=function(e){return new(e||n)(o.rXU(h.o),o.rXU(f.f),o.rXU(c.Ix),o.rXU(p.O))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-login"]],viewQuery:function(e,i){if(1&e&&o.GBs(M,5),2&e){let t;o.mGM(t=o.lsd())&&(i.loginForm=t.first)}},decls:24,vars:3,consts:[["loginForm","ngForm"],[3,"fullscreen"],[1,"ion-justify-content-center","ion-align-items-center","login"],["size","10","sizeMd","8","sizeLg","5"],["size","12","sizeMd","4"],[1,"ion-justify-content-center","ion-text-md-ion-justify-content-start"],[1,"login__logo"],["routerLink","/",1,"login__link"],[3,"ngSubmit"],[1,"input-container"],["ngModel","","required","","name","email","helperText"," ","fill","outline","label","Email","type","email"],["ngModel","","required","","name","senha","helperText"," ","fill","outline","label","Senha","type","password","errorText","Deve ser maior que 8 caracteres","minlength","8"],[1,"login__esqueceu-senha"],["routerLink","/cadastro"],[1,"ion-justify-content-center","ion-padding"],["size","auto"],["btnNome","Entrar",3,"loading","disabled"]],template:function(e,i){if(1&e){const t=o.RV6();o.j41(0,"ion-content",1)(1,"ion-row",2)(2,"ion-col",3)(3,"ion-col",4)(4,"ion-row",5)(5,"h1",6)(6,"a",7),o.EFF(7,"GeoLab"),o.k0s()()()(),o.j41(8,"ion-row")(9,"ion-col")(10,"form",8,0),o.bIt("ngSubmit",function(){return o.eBV(t),o.Njj(i.login())}),o.j41(12,"ion-row",9),o.nrm(13,"ion-input",10),o.k0s(),o.j41(14,"ion-row",9),o.nrm(15,"ion-input",11),o.k0s(),o.j41(16,"ion-text")(17,"p",12),o.EFF(18,"N\xe3o possui uma conta? "),o.j41(19,"a",13),o.EFF(20,"clique aqui"),o.k0s()()(),o.j41(21,"ion-row",14)(22,"ion-col",15),o.nrm(23,"app-btn-loading",16),o.k0s()()()()()()()()}if(2&e){const t=o.sdS(11);o.Y8G("fullscreen",!0),o.R7$(23),o.Y8G("loading",i.loading)("disabled",!t.valid)}},dependencies:[a.qT,a.BC,a.cb,a.YS,a.xh,a.vS,a.cV,s.hU,s.W9,s.$w,s.ln,s.IO,s.Gw,s.oY,c.Wk,P._],styles:['.login[_ngcontent-%COMP%]{min-height:100vh}.login__wrapper-redes[_ngcontent-%COMP%]{max-width:250px}.login__wrapper-redes[_ngcontent-%COMP%]   .btn-redes[_ngcontent-%COMP%]{width:55px;height:55px;--border-radius: 100%}.login__logo[_ngcontent-%COMP%]{text-decoration:none;font-family:mrDafoe;font-size:4rem;color:#000}.login__link[_ngcontent-%COMP%]{text-decoration:none;color:#000}.login__esqueceu-senha[_ngcontent-%COMP%]{font-size:.9em;font-weight:700;margin-left:15px}.login__esqueceu-senha[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}.login[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{min-height:80px}.login[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .erro[_ngcontent-%COMP%]{font-size:.8em}.login__entrar-com[_ngcontent-%COMP%]:after, .login__entrar-com[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12vw;margin-left:10px;margin-right:10px;margin-bottom:4px;height:1px;background-color:var(--ion-color-dark)}']}),l})()}];let C=(()=>{var n;class l{}return(n=l).\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[c.iI.forChild(v),c.iI]}),l})();var x=r(7006);let L=(()=>{var n;class l{}return(n=l).\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[m.MD,a.YN,s.bv,C,x.p]}),l})()}}]);